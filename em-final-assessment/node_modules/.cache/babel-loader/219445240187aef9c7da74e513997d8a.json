{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\adity\\\\OneDrive\\\\Desktop\\\\EMFinalAssessment\\\\em-final-assessment\\\\src\\\\components\\\\ListEmployeeComponent.jsx\";\nimport React, { Component } from 'react';\nimport Pagination from \"@material-ui/lab/Pagination\";\nimport EmployeeService from '../services/EmployeeService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass ListEmployeeComponent extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      employees: [],\n      currentEmployee: null,\n      currentIndex: -1,\n      page: 1,\n      count: 0,\n      pageSize: 3,\n      sortBy: \"id\",\n      sortDir: \"asc\",\n      sortToggle: false\n    };\n    this.addEmployee = this.addEmployee.bind(this);\n    this.editEmployee = this.editEmployee.bind(this);\n    this.deleteEmployee = this.deleteEmployee.bind(this);\n    this.retrieveTutorials = this.retrieveTutorials.bind(this); //this.refreshList = this.refreshList.bind(this);\n\n    this.setActiveTutorial = this.setActiveTutorial.bind(this); // this.removeAllTutorials = this.removeAllTutorials.bind(this);\n\n    this.handlePageChange = this.handlePageChange.bind(this);\n    this.handlePageSizeChange = this.handlePageSizeChange.bind(this);\n    this.sortData = this.sortData.bind(this);\n    this.pageSizes = [3, 6, 9];\n  }\n\n  sortData() {\n    this.setState(state => ({\n      sortToggle: !state.sortToggle\n    }));\n  }\n\n  deleteEmployee(id) {\n    EmployeeService.deleteEmployee(id).then(res => {\n      this.setState({\n        employees: this.state.employees.filter(employee => employee.id !== id)\n      });\n    });\n  }\n\n  viewEmployee(id) {\n    this.props.history.push(`/view-employee/${id}`);\n  }\n\n  editEmployee(id) {\n    this.props.history.push(`/add-employee/${id}`);\n  }\n\n  componentDidMount() {\n    // EmployeeService.getEmployees().then((res) => {\n    //     this.setState({ employees: res.data});\n    // });\n    this.retrieveTutorials();\n  }\n\n  addEmployee() {\n    this.props.history.push('/add-employee/_add');\n  }\n\n  setActiveTutorial(employee, index) {\n    this.setState({\n      currentEmployee: employee,\n      currentIndex: index\n    });\n  }\n\n  getRequestParams(page, pageSize, sortBy) {\n    let params = {};\n\n    if (page) {\n      params[\"page\"] = page - 1;\n    }\n\n    if (pageSize) {\n      params[\"size\"] = pageSize;\n    }\n\n    if (sortBy) {\n      params[\"sortBy\"] = \"firstName\";\n    }\n\n    params[\"sortDir\"] = this.state.sortToggle ? \"asc\" : \"desc\";\n    return params;\n  }\n\n  retrieveTutorials() {\n    const {\n      page,\n      pageSize\n    } = this.state;\n    const params = this.getRequestParams(page, pageSize);\n    EmployeeService.getAll(params).then(response => {\n      const {\n        employees,\n        totalPages\n      } = response.data;\n      this.setState({\n        employees: employees,\n        count: totalPages\n      });\n      console.log(response.data);\n    }).catch(e => {\n      console.log(e);\n    });\n  }\n\n  handlePageChange(event, value) {\n    this.setState({\n      page: value\n    }, () => {\n      this.retrieveTutorials();\n    });\n  }\n\n  handlePageSizeChange(event) {\n    this.setState({\n      pageSize: event.target.value,\n      page: 1\n    }, () => {\n      this.retrieveTutorials();\n    });\n  }\n\n  handleSortByChange(value1, value2) {\n    this.setState({\n      sortBy: sortBy,\n      page: 1\n    }, () => {\n      this.retrieveTutorials();\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-center\",\n        children: \"Employees List\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 18\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary\",\n          onClick: this.addEmployee,\n          children: \" Add Employee\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary\",\n          onClick: this.sortData,\n          children: \" sort Employee\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 18\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 18\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"table table-striped table-bordered\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                onClick: () => this.sortData,\n                children: [\" Employee First Name\", /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: this.state.sortToggle ? \"1\" : \"2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 159,\n                  columnNumber: 89\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 159,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \" Employee Last Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 160,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \" Employee Email Id\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 161,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \" Actions\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 162,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: this.state.employees.map((employee, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n              className: index === this.state.currentIndex ? \"active\" : \"\",\n              onClick: () => this.setActiveTutorial(employee, index),\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: [\" \", employee.firstName, \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 175,\n                columnNumber: 46\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: [\" \", employee.lastName]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 176,\n                columnNumber: 46\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: [\" \", employee.email]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 177,\n                columnNumber: 46\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => this.editEmployee(employee.id),\n                  className: \"btn btn-info\",\n                  children: \"Update \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 179,\n                  columnNumber: 50\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  style: {\n                    marginLeft: \"10px\"\n                  },\n                  onClick: () => this.deleteEmployee(employee.id),\n                  className: \"btn btn-danger\",\n                  children: \"Delete \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 180,\n                  columnNumber: 50\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  style: {\n                    marginLeft: \"10px\"\n                  },\n                  onClick: () => this.viewEmployee(employee.id),\n                  className: \"btn btn-info\",\n                  children: \"View \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 181,\n                  columnNumber: 50\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 178,\n                columnNumber: 46\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 41\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Pagination, {\n            className: \"my-3\",\n            count: this.state.count,\n            page: this.state.page,\n            siblingCount: 1,\n            boundaryCount: 1,\n            variant: \"outlined\",\n            shape: \"rounded\",\n            onChange: this.handlePageChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 18\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default ListEmployeeComponent;","map":{"version":3,"sources":["C:/Users/adity/OneDrive/Desktop/EMFinalAssessment/em-final-assessment/src/components/ListEmployeeComponent.jsx"],"names":["React","Component","Pagination","EmployeeService","ListEmployeeComponent","constructor","props","state","employees","currentEmployee","currentIndex","page","count","pageSize","sortBy","sortDir","sortToggle","addEmployee","bind","editEmployee","deleteEmployee","retrieveTutorials","setActiveTutorial","handlePageChange","handlePageSizeChange","sortData","pageSizes","setState","id","then","res","filter","employee","viewEmployee","history","push","componentDidMount","index","getRequestParams","params","getAll","response","totalPages","data","console","log","catch","e","event","value","target","handleSortByChange","value1","value2","render","map","firstName","lastName","email","marginLeft"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport Pagination from \"@material-ui/lab/Pagination\";\r\nimport EmployeeService from '../services/EmployeeService';\r\n\r\nclass ListEmployeeComponent extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n                employees: [],\r\n                currentEmployee: null,\r\n                currentIndex: -1,\r\n            \r\n                page: 1,\r\n                count: 0,\r\n                pageSize: 3,\r\n                sortBy:\"id\",\r\n                sortDir:\"asc\",\r\n                sortToggle:false\r\n        }\r\n        this.addEmployee = this.addEmployee.bind(this);\r\n        this.editEmployee = this.editEmployee.bind(this);\r\n        this.deleteEmployee = this.deleteEmployee.bind(this);\r\n        this.retrieveTutorials = this.retrieveTutorials.bind(this);\r\n        //this.refreshList = this.refreshList.bind(this);\r\n        this.setActiveTutorial = this.setActiveTutorial.bind(this);\r\n        // this.removeAllTutorials = this.removeAllTutorials.bind(this);\r\n        this.handlePageChange = this.handlePageChange.bind(this);\r\n        this.handlePageSizeChange = this.handlePageSizeChange.bind(this);\r\n        this.sortData = this.sortData.bind(this);\r\n        this.pageSizes = [3, 6, 9];\r\n    }\r\n\r\n    sortData() {\r\n      this.setState(state=>({\r\n        sortToggle:!state.sortToggle\r\n      }));\r\n    }\r\n\r\n    deleteEmployee(id){\r\n        EmployeeService.deleteEmployee(id).then( res => {\r\n            this.setState({employees: this.state.employees.filter(employee => employee.id !== id)});\r\n        });\r\n    }\r\n    viewEmployee(id){\r\n        this.props.history.push(`/view-employee/${id}`);\r\n    }\r\n    editEmployee(id){\r\n        this.props.history.push(`/add-employee/${id}`);\r\n    }\r\n\r\n    componentDidMount(){\r\n        // EmployeeService.getEmployees().then((res) => {\r\n        //     this.setState({ employees: res.data});\r\n        // });\r\n        this.retrieveTutorials();\r\n    }\r\n\r\n    addEmployee(){\r\n        this.props.history.push('/add-employee/_add');\r\n    }\r\n\r\n    setActiveTutorial(employee, index) {\r\n        this.setState({\r\n            currentEmployee: employee,\r\n          currentIndex: index,\r\n        });\r\n      }\r\n\r\n    getRequestParams(page, pageSize, sortBy) {\r\n        let params = {};\r\n    \r\n        if (page) {\r\n          params[\"page\"] = page - 1;\r\n        }\r\n    \r\n        if (pageSize) {\r\n          params[\"size\"] = pageSize;\r\n        }\r\n\r\n        if (sortBy) {\r\n          params[\"sortBy\"] = \"firstName\";\r\n        }\r\n\r\n        \r\n          params[\"sortDir\"] = this.state.sortToggle?\"asc\":\"desc\";\r\n        \r\n        return params;\r\n      }\r\n    \r\n      retrieveTutorials() {\r\n        const { page, pageSize } = this.state;\r\n        const params = this.getRequestParams(page, pageSize);\r\n    \r\n        EmployeeService.getAll(params)\r\n          .then((response) => {\r\n            const { employees, totalPages } = response.data;\r\n    \r\n            this.setState({\r\n              employees: employees,\r\n              count: totalPages,\r\n            });\r\n            console.log(response.data);\r\n          })\r\n          .catch((e) => {\r\n            console.log(e);\r\n          });\r\n      }\r\n    \r\n      handlePageChange(event, value) {\r\n        this.setState(\r\n          {\r\n            page: value,\r\n          },\r\n          () => {\r\n            this.retrieveTutorials();\r\n          }\r\n        );\r\n      }\r\n    \r\n      handlePageSizeChange(event) {\r\n        this.setState(\r\n          {\r\n            pageSize: event.target.value,\r\n            page: 1\r\n          },\r\n          () => {\r\n            this.retrieveTutorials();\r\n          }\r\n        );\r\n      }\r\n\r\n      handleSortByChange(value1,value2) {\r\n        this.setState(\r\n          {\r\n            sortBy:sortBy,\r\n            page: 1\r\n          },\r\n          () => {\r\n            this.retrieveTutorials();\r\n          }\r\n        );\r\n      }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                 <h2 className=\"text-center\">Employees List</h2>\r\n                 <div className = \"row-3\">\r\n                    <button className=\"btn btn-primary\" onClick={this.addEmployee}> Add Employee</button>\r\n                    <button className=\"btn btn-primary\" onClick={this.sortData}> sort Employee</button>\r\n                 </div>\r\n                 <br></br>\r\n                 <div className = \"row\">\r\n                        <table className = \"table table-striped table-bordered\">\r\n\r\n                            <thead>\r\n                                <tr>\r\n                                    <th onClick={()=>this.sortData}> Employee First Name<div>{this.state.sortToggle?\"1\":\"2\"}</div></th>\r\n                                    <th> Employee Last Name</th>\r\n                                    <th> Employee Email Id</th>\r\n                                    <th> Actions</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                {\r\n                                    this.state.employees.map(\r\n                                        (employee, index) => \r\n                                        <tr key = {index}\r\n                                            className={\r\n                                            (index === this.state.currentIndex ? \"active\" : \"\")\r\n                                          }\r\n                                          onClick={() => this.setActiveTutorial(employee, index)}\r\n                                        >\r\n                                             <td> {employee.firstName} </td>   \r\n                                             <td> {employee.lastName}</td>\r\n                                             <td> {employee.email}</td>\r\n                                             <td>\r\n                                                 <button onClick={ () => this.editEmployee(employee.id)} className=\"btn btn-info\">Update </button>\r\n                                                 <button style={{marginLeft: \"10px\"}} onClick={ () => this.deleteEmployee(employee.id)} className=\"btn btn-danger\">Delete </button>\r\n                                                 <button style={{marginLeft: \"10px\"}} onClick={ () => this.viewEmployee(employee.id)} className=\"btn btn-info\">View </button>\r\n                                             </td>\r\n                                        </tr>\r\n                                    )\r\n                                }\r\n                            </tbody>\r\n                            <Pagination\r\n                                className=\"my-3\"\r\n                                count={this.state.count}\r\n                                page={this.state.page}\r\n                                siblingCount={1}\r\n                                boundaryCount={1}\r\n                                variant=\"outlined\"\r\n                                shape=\"rounded\"\r\n                                onChange={this.handlePageChange}\r\n                                />\r\n                        </table>\r\n\r\n                 </div>\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ListEmployeeComponent"]},"metadata":{},"sourceType":"module"}